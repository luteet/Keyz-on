const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),nav=document.querySelector(".header__nav"),burger=document.querySelector(".header__burger"),header=document.querySelector(".header");function slideUp(e,t=300){e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function slideDown(e,t=300){e.style.removeProperty("display");let o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;let r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function Popup(e){let t=document.querySelector("body"),o=document.querySelector("html"),r="object"==typeof e&&!!e.saveHref,n=!0,i=!0;const s=function(e,i){if(n){n=!1;let s=document.querySelector(e);if(!s)return new Error(`Not found "${e}"`);t.classList.remove("_popup-active"),o.style.setProperty("--popup-padding",window.innerWidth-t.offsetWidth+"px"),t.classList.add("_popup-active"),r&&history.pushState("","",e),setTimeout(()=>{if(i)s.classList.add("_transition-none"),s.classList.add("_active"),n=!0;else{s.classList.add("_active"),s.addEventListener("transitionend",(function e(){n=!0,s.removeEventListener("transitionend",e)}))}},0)}},a=function(e){if(i){let r;i=!1,r="string"==typeof e?document.querySelector(e):e.closest(".popup"),r.classList.contains("_transition-none")&&r.classList.remove("_transition-none"),setTimeout(()=>{r.classList.remove("_active"),r.addEventListener("transitionend",(function e(){const n=document.querySelectorAll(".popup._active");n.length<1&&(t.classList.remove("_popup-active"),o.style.setProperty("--popup-padding","0px")),function(){let e=window.location.toString();if(e.indexOf("#")>0){let t=e.substring(0,e.indexOf("#"));window.history.replaceState({},document.title,t)}}(),n[n.length-1]&&history.pushState("","","#"+n[n.length-1].getAttribute("id")),i=!0,r.removeEventListener("transitionend",e)}))},0)}};return{open:function(e){s(e)},close:function(e){a(e)},init:function(){let e;t.addEventListener("click",(function(t){e=t.target;let o=e.closest(".open-popup");o&&(t.preventDefault(),s(o.getAttribute("href")));let r=e.closest(".popup-close");r&&a(r)}));let o=new URL(window.location);o.hash&&s(o.hash,!0)}}}const popup=new Popup;popup.init();const cookie=document.querySelector(".cookie");localStorage.getItem("keyz-on-cookie")||setTimeout(()=>{cookie.classList.add("_visible")},500),body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_mob-menu-active")});const o=t(".video-preview");if(o){const e=o.closest(".video-wrapper").querySelector(".video-element");o.classList.add("_hidden"),e.load(),setTimeout(()=>{e.play()},100)}const r=t(".filter-category__target");if(r){const e=r.closest(".filter-category"),t=e.querySelector(".filter-category__list");e.classList.contains("_animating")||(e.classList.add("_animating"),e.classList.contains("_active")?(t.style.display="block",e.classList.remove("_active"),slideUp(t)):(slideDown(t),e.classList.add("_active")),setTimeout(()=>{e.classList.remove("_animating")},300))}const n=t(".amount-btn");if(n){const e=n.closest(".amount-block").querySelector(".amount-input");n.classList.contains("_up")?e.value=Number(e.value)+1:n.classList.contains("_down")&&(e.value=Number(e.value)-1?Number(e.value)-1:1)}if(t("button.cookie__btn")){document.querySelector(".cookie").classList.remove("_visible"),localStorage.setItem("keyz-on-cookie",!0)}const i=t(".password-toggle");if(i){const e=i.parentElement.querySelector("input");i.classList.contains("_active")?(e.setAttribute("type","password"),i.classList.remove("_active")):(e.setAttribute("type","text"),i.classList.add("_active"))}const s=t(".cart__product--delete");if(s){const e=s.closest(".cart__product");e.addEventListener("transitionend",(function(){setTimeout(()=>{slideUp(e)},50)})),e.style.opacity=0,e.style.visibility="hidden"}const a=t(".footer__feedback--message-close");if(a){a.closest(".footer__feedback--message").classList.remove("_show")}}));const appendToOnTablet=document.querySelectorAll("[data-append-to-on-tablet]");let appendToOnTabletArray=[];appendToOnTablet.forEach(e=>{appendToOnTabletArray.push([e,document.querySelector("#"+e.dataset.appendToOnTablet),e.parentElement])});const appendToOnMob=document.querySelectorAll("[data-append-to-on-mob]");let appendToOnMobArray=[];appendToOnMob.forEach(e=>{appendToOnMobArray.push([e,document.querySelector("#"+e.dataset.appendToOnMob),e.parentElement])});let windowSize,resizeCheck={};function resizeCheckFunc(e,t,o){windowSize<=e&&(1==resizeCheck[String(e)]||null==resizeCheck[String(e)])&&0!=resizeCheck[String(e)]&&(resizeCheck[String(e)]=!1,o()),windowSize>=e&&(0==resizeCheck[String(e)]||null==resizeCheck[String(e)])&&1!=resizeCheck[String(e)]&&(resizeCheck[String(e)]=!0,t())}function resize(){html.style.setProperty("--height-screen",window.innerHeight+"px"),html.style.setProperty("--height-header",header.offsetHeight+"px"),html.style.setProperty("--width-header-nav",nav.offsetWidth+"px"),html.style.setProperty("--height-screen-2",window.innerHeight-(header.offsetHeight-1)+"px"),windowSize=window.innerWidth,resizeCheckFunc(768,(function(){Array.from(appendToOnMobArray).forEach(e=>{e[0].parentElement!=e[2]&&e[2].append(e[0])})}),(function(){Array.from(appendToOnMobArray).forEach(e=>{e[1].append(e[0])})})),resizeCheckFunc(992,(function(){Array.from(appendToOnTabletArray).forEach(e=>{e[0].parentElement!=e[2]&&e[2].append(e[0])})}),(function(){Array.from(appendToOnTabletArray).forEach(e=>{e[1].append(e[0])})}))}if(resize(),window.onresize=resize,window.onload=function(){resize(),body.classList.add("page-loaded")},document.querySelector(".all-for__slider")){let e=new Swiper(".all-for__slider",{spaceBetween:9,slidesPerView:1,loop:!0,loopedSlides:3,breakpoints:{768:{slidesPerView:1,spaceBetween:23},1600:{slidesPerView:2,spaceBetween:23},2500:{slidesPerView:3,spaceBetween:23}}});setTimeout(()=>{e.slideNext(0),e.slidePrev(0),setTimeout(()=>{e.el.style.opacity=1},100)},0)}if(document.querySelector(".product__image--main")||document.querySelector(".product__image--list")){let e=new Swiper(".product__image--list",{spaceBetween:20,slidesPerView:4,watchSlidesProgress:!0});new Swiper(".product__image--main",{spaceBetween:20,slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:e}})}const headerSearchInput=document.querySelectorAll(".header__search--input");headerSearchInput.forEach(e=>{e.addEventListener("focus",(function(){header.classList.add("_search-focus")})),e.addEventListener("blur",(function(){header.classList.remove("_search-focus")}))});